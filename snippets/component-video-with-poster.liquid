{%- comment -%}
  Accepts:
    - video: {Object} video object.
    - sizes: {String} formatted list of sizes
    - section: {Object} the section the snippet is being rendered in
    - class: {String} list of classes to add to the feature
{%- endcomment -%}
<video-with-poster class="{{ class }} d--flex justify--center">
  <div class="js-video-poster round round--md width--100 relative ratio ratio--16-9">
    <img
      srcset="{{ video.preview_image | image_url: width: 400 }} 400w, {{ video.preview_image | image_url: width: 600 }} 600w, {{ video.preview_image | image_url: width: 800 }} 800w, {{ video.preview_image | image_url: width: 1200 }} 1200w, {{ video.preview_image | image_url: width: 1600 }} 1600w"
      sizes="{{ sizes }}"
      alt="{{ video.preview_image.alt | escape }}"
      class="ratio__content"
      loading="lazy"
      data-id="video-{{ section.id }}"
      width="{{ video.width }}"
      height="{{ video.height }}"
    />
    <button class="absolute play-button" aria-label="Play video">
      {%- render 'icons-sprite-icon' id: 'icon-play', size: 56 -%}
    </button>
  </div>
  <video
    id="video-{{ section.id }}"
    controls
    autoplay
    class="html-video round round--md width--100 hide"
  >
    {%- for source in video.sources -%}
      <source data-src="{{ source.url }}" type="{{ source.mime_type }}">
    {%- endfor -%}
  </video>
</video-with-poster>